<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retag AI</title>
    <style>
        body { margin: 0; background: #343541; font-family: 'Segoe UI', sans-serif; color: white; display: flex; height: 100vh; }
        .sidebar { width: 260px; background: #202123; padding: 15px; display: flex; flex-direction: column; }
        .chat-main { flex: 1; display: flex; flex-direction: column; position: relative; }
        #win { flex: 1; overflow-y: auto; padding: 40px; }
        .msg { max-width: 800px; margin: 0 auto 20px auto; padding: 15px; border-radius: 10px; line-height: 1.6; }
        .user { background: #d4a373; color: black; }
        .ai { background: #444654; }
        .input-area { padding: 30px; background: linear-gradient(transparent, #343541 40%); }
        .box { max-width: 768px; margin: 0 auto; background: #40414f; padding: 15px; border-radius: 10px; display: flex; }
        input { flex: 1; background: transparent; border: none; color: white; outline: none; font-size: 16px; }
        .back { position: absolute; top: 10px; left: 10px; color: white; cursor: pointer; text-decoration: none; background: #4d4d4f; padding: 5px 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <a href="index.html" class="back">← Back to Site</a>
    <div class="sidebar"><h3>Retag AI</h3><p>Retag Khaled</p></div>
    <div class="chat-main">
        <div id="win"></div>
        <div class="input-area">
            <div class="box">
                <input type="text" id="in" placeholder="Ask Retag AI...">
                <button onclick="ask()" style="background:none; border:none; color:white; cursor:pointer;">➤</button>
            </div>
        </div>
    </div>
    <script>
        async function ask() {
            const i = document.getElementById('in');
            const w = document.getElementById('win');
            if(!i.value) return;
            const t = i.value;
            w.innerHTML += `<div class="msg user"><b>You:</b> ${t}</div>`;
            i.value = "";
            try {
                const r = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=AIzaSyBX6NGNI_jcj6az8Zay-N-VgTyrvevEJkY`, {
                    method: "POST", headers: {"Content-Type": "application/json"},
                    body: JSON.stringify({contents: [{parts: [{text: t}]}]})
                });
                const d = await r.json();
                w.innerHTML += `<div class="msg ai"><b>Retag AI:</b> ${d.candidates[0].content.parts[0].text}</div>`;
                w.scrollTop = w.scrollHeight;
            } catch(e) { w.innerHTML += "Error!"; }
        }
    </script>
</body>
</html>
