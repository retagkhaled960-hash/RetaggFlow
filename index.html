<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RetaggFlow Pro</title>
    <style>
        :root {
            --bg: #ffffff; --text: #222; --primary: #d4a373; --secondary: #faedcd; --card: #fefae0; --footer: #333;
        }
        [data-theme="dark"] {
            --bg: #121212; --text: #ffffff; --primary: #800000; --secondary: #1e1e1e; --card: #2d2d2d; --footer: #000;
        }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background-color: var(--secondary); color: var(--text); transition: 0.3s; scroll-behavior: smooth; }
        nav { background: var(--primary); padding: 15px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        nav a { color: white; text-decoration: none; font-weight: bold; margin-right: 15px; }
        .theme-toggle { cursor: pointer; padding: 5px 15px; border-radius: 20px; border: none; background: white; color: var(--primary); font-weight: bold; }
        section { padding: 40px 20px; text-align: center; }
        
        .login-container { background: var(--bg); padding: 25px; border-radius: 15px; max-width: 350px; margin: 20px auto; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        input { width: 90%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; background: var(--bg); color: var(--text); }
        .btn-email { background: var(--primary); color: white; width: 100%; padding: 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 10px; }

        .home-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; padding: 20px; max-width: 1200px; margin: 0 auto; }
        .option-card { background: var(--card); padding: 20px; border-radius: 12px; border: 1px solid var(--primary); display: flex; flex-direction: column; }

        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø´Ø§Øª ÙƒÙ‚Ø³Ù… Ø¬ÙˆÙ‡ Ø§Ù„ÙƒØ§Ø±Øª */
        .ai-chat-section { background: #343541; border-radius: 10px; color: white; padding: 15px; text-align: left; height: 350px; display: flex; flex-direction: column; }
        #chat-display { flex: 1; overflow-y: auto; font-size: 14px; margin-bottom: 10px; padding-right: 5px; }
        .chat-msg { margin-bottom: 10px; padding: 8px; border-radius: 5px; }
        .user-msg { background: #d4a373; color: black; align-self: flex-end; }
        .ai-msg { background: #444654; }
        .chat-input-area { display: flex; gap: 5px; }
        .chat-input-area input { background: #40414f; border: none; color: white; flex: 1; margin: 0; }

        footer { background: var(--footer); color: white; padding: 20px; text-align: center; margin-top: 50px; }
    </style>
</head>
<body>

    <nav>
        <div class="links"><a href="#home">Home</a><a href="#ai-section">Retag AI</a><a href="#support">Support</a></div>
        <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ“ Dark/Light</button>
    </nav>

    <section id="login">
        <div class="login-container">
            <h2>Login</h2>
            <input type="email" placeholder="Email Address">
            <input type="password" placeholder="Password">
            <button class="btn-email">Login</button>
        </div>
    </section>

    <section id="home">
        <h1>Dashboard</h1>
        <div class="home-grid">
            <div class="option-card" id="ai-section">
                <h3 style="color: var(--primary);">Retag AI Assistant</h3>
                <div class="ai-chat-section">
                    <div id="chat-display"><b>Retag AI:</b> Hello! How can I help you today?</div>
                    <div class="chat-input-area">
                        <input type="text" id="chat-input" placeholder="Ask Retag AI...">
                        <button onclick="talkToAI()" style="background:var(--primary); border:none; color:white; padding:5px 10px; border-radius:5px; cursor:pointer;">Send</button>
                    </div>
                </div>
            </div>

            <div class="option-card">
                <h3 style="color: var(--primary);">Code Debugger</h3>
                <p>Paste your code to find and fix errors instantly.</p>
                <button class="btn-email">Check Code</button>
            </div>
        </div>
    </section>

    <footer>
        <p>Â© 2026 By Retag Khaled</p>
    </footer>

    <script>
        function toggleTheme() {
            document.body.toggleAttribute('data-theme');
        }

        async function talkToAI() {
            const input = document.getElementById('chat-input');
            const display = document.getElementById('chat-display');
            if (!input.value.trim()) return;

            const userText = input.value;
            display.innerHTML += `<div class="chat-msg user-msg"><b>You:</b> ${userText}</div>`;
            input.value = "";
            display.scrollTop = display.scrollHeight;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=AIzaSyBX6NGNI_jcj6az8Zay-N-VgTyrvevEJkY`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ contents: [{ parts: [{ text: userText }] }] })
                });
                const data = await response.json();
                const aiText = data.candidates[0].content.parts[0].text;
                display.innerHTML += `<div class="chat-msg ai-msg"><b>Retag AI:</b> ${aiText}</div>`;
                display.scrollTop = display.scrollHeight;
            } catch (e) {
                display.innerHTML += `<div class="chat-msg"><b>Error:</b> Connection failed.</div>`;
            }
        }
    </script>
</body>
</html>
