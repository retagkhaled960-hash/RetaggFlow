<!DOCTYPE html>
<html lang="en" id="html-tag">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RetaggFlow Pro | Global AI</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { 
            --bg: #f8f9fa; --text: #222; --primary: #d4a373; --glass: rgba(255, 255, 255, 0.85);
            --sidebar-bg: #ffffff; --card-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
        }
        [data-theme="dark"] { 
            --bg: #000000; --text: #ffffff; --primary: #9966cc; --glass: rgba(20, 20, 20, 0.75);
            --sidebar-bg: #0a0a0a; --card-shadow: 0 8px 32px rgba(153, 102, 204, 0.2);
        }

        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); transition: 0.4s; overflow-x: hidden; }

        /* Pre-loader */
        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: flex; justify-content: center; align-items: center; }
        .loader-logo { color: var(--primary); font-size: 28px; font-weight: bold; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 0.5; transform: scale(0.9); } 50% { opacity: 1; transform: scale(1.1); } }

        /* Glassmorphism Cards */
        .glass-card { background: var(--glass); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: var(--card-shadow); border-radius: 20px; }

        nav { background: var(--primary); padding: 12px 25px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        .nav-user-img { width: 35px; height: 35px; border-radius: 50%; border: 2px solid white; object-fit: cover; cursor: pointer; }

        /* Sidebar */
        .sidebar { position: fixed; top: 0; width: 280px; height: 100%; background: var(--sidebar-bg); z-index: 4000; transition: 0.5s; visibility: hidden; padding: 25px; }
        #html-tag[dir="ltr"] .sidebar { left: -320px; }
        #html-tag[dir="ltr"] .sidebar.active { left: 0; visibility: visible; }
        #html-tag[dir="rtl"] .sidebar { right: -320px; left: auto; }
        #html-tag[dir="rtl"] .sidebar.active { right: 0; visibility: visible; }
        .sidebar-item { padding: 12px; border-radius: 10px; display: flex; align-items: center; gap: 12px; cursor: pointer; margin-bottom: 5px; transition: 0.3s; }
        .sidebar-item:hover { background: var(--primary); color: white; }

        /* Profile Dashboard Section */
        #profile-section { display: none; padding: 40px 20px; max-width: 800px; margin: auto; }
        .profile-header { text-align: center; margin-bottom: 30px; }
        .profile-pic-container { position: relative; width: 120px; height: 120px; margin: auto; }
        .profile-pic-container img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary); }
        .upload-btn { position: absolute; bottom: 0; right: 0; background: var(--primary); color: white; padding: 8px; border-radius: 50%; cursor: pointer; font-size: 14px; }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .stat-box { padding: 20px; text-align: center; border-radius: 15px; background: rgba(153, 102, 204, 0.1); }

        /* Toast Notifications */
        #toast-container { position: fixed; top: 70px; right: 20px; z-index: 9999; }
        .toast { background: var(--primary); color: white; padding: 12px 20px; border-radius: 8px; margin-bottom: 10px; animation: slideIn 0.4s forwards; }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }

        /* Welcome Overlay */
        #welcome-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 5000; flex-direction: column; align-items: center; justify-content: center; }
        .rocking-hi { font-size: 60px; font-weight: bold; animation: rock 1.5s ease-in-out infinite; }
        @keyframes rock { 0%, 100% { transform: rotate(-15deg); } 50% { transform: rotate(15deg); } }

        .login-section { padding: 50px 20px; display: flex; justify-content: center; }
        .login-container { padding: 40px; width: 100%; max-width: 400px; text-align: center; }
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: 1px solid #ddd; background: transparent; color: var(--text); box-sizing: border-box; }
        .btn-main { background: var(--primary); color: white; width: 100%; padding: 12px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        
        .hero-intro { padding: 40px 20px; text-align: center; }
        .intro-imgs img { width: 200px; height: 130px; border-radius: 12px; object-fit: cover; margin: 10px; border: 2px solid var(--primary); }
        
        #options-section { display: none; padding: 40px 20px; text-align: center; }
        .home-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; max-width: 1000px; margin: auto; }
        
        footer { padding: 30px; text-align: center; opacity: 0.8; }
        .mask { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 3500; }
    </style>
</head>
<body>

    <div id="preloader"><div class="loader-logo">RETAGGFLOW PRO</div></div>
    <div id="toast-container"></div>
    <div class="mask" id="mask" onclick="toggleMenu()"></div>

    <div class="sidebar glass-card" id="sidebar">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h3 id="m-title">Settings</h3>
            <i class="fas fa-times" onclick="toggleMenu()" style="cursor:pointer"></i>
        </div>
        <div class="sidebar-item" onclick="showProfile()"><i class="fas fa-user-circle"></i> <span id="s-prof">My Profile</span></div>
        <div class="sidebar-item" onclick="toggleTheme()"><i class="fas fa-adjust"></i> <span id="s-theme">Switch Theme</span></div>
        <div class="sidebar-item">
            <i class="fas fa-globe"></i>
            <select onchange="changeLang(this.value)" id="lang-picker" style="background:transparent; border:none; color:inherit; font-weight:bold;">
                <option value="en">English</option>
                <option value="ar">العربية</option>
                <option value="fr">Français</option>
            </select>
        </div>
        <div class="sidebar-item" id="logout-btn" onclick="logout()" style="color:#ff4444; margin-top:30px; display:none;"><i class="fas fa-power-off"></i> <span>Logout</span></div>
    </div>

    <div id="welcome-overlay">
        <div class="rocking-hi">Hi User!</div>
        <p id="w-msg" style="margin-top:20px; font-weight:bold;">Initializing Your Secure Dashboard...</p>
    </div>

    <nav>
        <i class="fas fa-bars menu-icon" onclick="toggleMenu()"></i>
        <div style="font-weight: bold; font-size: 20px; color: white;">RETAGGFLOW</div>
        <img id="nav-p-img" src="https://via.placeholder.com/150" class="nav-user-img" onclick="showProfile()" style="display:none;">
    </nav>

    <section id="profile-section" class="glass-card">
        <div class="profile-header">
            <div class="profile-pic-container">
                <img id="profile-display" src="https://via.placeholder.com/150">
                <label for="p-upload" class="upload-btn"><i class="fas fa-camera"></i></label>
                <input type="file" id="p-upload" hidden accept="image/*" onchange="handlePic(this)">
            </div>
            <h2 id="user-display-name">Username</h2>
        </div>
        <div style="padding: 0 20px;">
            <h4 id="s-edit">Edit Profile</h4>
            <input type="text" id="edit-name" placeholder="Update Name">
            <button class="btn-main" onclick="saveProfile()">Update Information</button>
            <div class="stats-grid">
                <div class="stat-box"><i class="fas fa-robot"></i><h3 id="ai-count">0</h3><p id="s-usage">AI Usage</p></div>
                <div class="stat-box"><i class="fas fa-shield-alt"></i><h3>Active</h3><p id="s-status">Account Status</p></div>
            </div>
            <button class="btn-main" style="margin-top:20px; background:#666;" onclick="hideProfile()">Back to Home</button>
        </div>
    </section>

    <section id="login-section" class="login-section">
        <div class="login-container glass-card">
            <h2 id="l-title">Secure Login</h2>
            <input type="email" id="email" placeholder="Email Address">
            <input type="password" id="pass" placeholder="Password">
            <button class="btn-main" onclick="finalizeLogin()">Log In</button>
        </div>
    </section>

    <section id="hero-section" class="hero-intro">
        <h1 id="i-title">The Future of AI is Here</h1>
        <p id="i-desc">High-performance tools for developers and creators.</p>
        <div class="intro-imgs">
            <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=400" alt="Tech">
            <img src="https://images.unsplash.com/photo-1587620962725-abab7fe55159?auto=format&fit=crop&w=400" alt="Code">
        </div>
    </section>

    <section id="options-section">
        <div class="home-grid">
            <div class="glass-card" style="padding:30px;">
                <i class="fas fa-comment-dots" style="font-size:35px; color:var(--primary);"></i>
                <h3>Retag AI</h3>
                <button class="btn-main" onclick="useAI('chat.html')">Launch</button>
            </div>
            <div class="glass-card" style="padding:30px;">
                <i class="fas fa-bug" style="font-size:35px; color:var(--primary);"></i>
                <h3>Debugger</h3>
                <button class="btn-main" onclick="useAI('#')">Scan Code</button>
            </div>
        </div>
    </section>

    <footer>
        <p id="copy">All Rights Reserved © 2026</p>
        <p><strong>By Retag Khaled</strong></p>
    </footer>

    <script>
        // Loading Logic
        window.addEventListener('load', () => {
            setTimeout(() => { document.getElementById('preloader').style.display = 'none'; }, 800);
        });

        function showToast(msg) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerText = msg;
            document.getElementById('toast-container').appendChild(toast);
            setTimeout(() => toast.remove(), 2500);
        }

        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('active');
            document.getElementById('mask').classList.toggle('active');
        }

        function showProfile() {
            document.getElementById('profile-section').style.display = 'block';
            document.getElementById('options-section').style.display = 'none';
            document.getElementById('hero-section').style.display = 'none';
            toggleMenu();
        }

        function hideProfile() {
            document.getElementById('profile-section').style.display = 'none';
            document.getElementById('options-section').style.display = 'block';
            document.getElementById('hero-section').style.display = 'block';
        }

        function handlePic(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profile-display').src = e.target.result;
                    document.getElementById('nav-p-img').src = e.target.result;
                    localStorage.setItem('userPic', e.target.result);
                    showToast("Profile Picture Updated!");
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function useAI(url) {
            let count = parseInt(localStorage.getItem('aiUsage') || 0);
            count++;
            localStorage.setItem('aiUsage', count);
            document.getElementById('ai-count').innerText = count;
            showToast("AI Request Processed!");
            if(url !== '#') window.location.href = url;
        }

        function saveProfile() {
            const name = document.getElementById('edit-name').value;
            if(name) {
                localStorage.setItem('userName', name);
                document.getElementById('user-display-name').innerText = name;
                showToast("Name Updated Successfully!");
            }
        }

        function finalizeLogin() {
            localStorage.setItem('isLoggedIn', 'true');
            document.getElementById('welcome-overlay').style.display = 'flex';
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
            setTimeout(() => location.reload(), 2500);
        }

        function logout() { localStorage.removeItem('isLoggedIn'); location.reload(); }

        function toggleTheme() {
            const isDark = document.body.getAttribute('data-theme') === 'dark';
            document.body.setAttribute('data-theme', isDark ? 'light' : 'dark');
            localStorage.setItem('theme', isDark ? 'light' : 'dark');
            showToast("Theme Updated");
        }

        const translations = {
            en: { prof: "My Profile", edit: "Edit Profile", usage: "AI Usage", status: "Account Status", copy: "All Rights Reserved © 2026" },
            ar: { prof: "ملفي الشخصي", edit: "تعديل البيانات", usage: "مرات استخدام الذكاء", status: "حالة الحساب", copy: "جميع حقوق النشر محفوظة © 2026" },
            fr: { prof: "Mon Profil", edit: "Modifier le profil", usage: "Utilisation de l'IA", status: "État du compte", copy: "Tous droits réservés © 2026" }
        };

        function changeLang(lang) {
            localStorage.setItem('lang', lang);
            const t = translations[lang];
            document.getElementById('html-tag').setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
            document.getElementById('s-prof').innerText = t.prof;
            document.getElementById('s-edit').innerText = t.edit;
            document.getElementById('s-usage').innerText = t.usage;
            document.getElementById('s-status').innerText = t.status;
            document.getElementById('copy').innerText = t.copy;
        }

        document.addEventListener('DOMContentLoaded', () => {
            if(localStorage.getItem('theme') === 'dark') document.body.setAttribute('data-theme', 'dark');
            const lang = localStorage.getItem('lang') || 'en';
            document.getElementById('lang-picker').value = lang;
            changeLang(lang);
            
            if(localStorage.getItem('isLoggedIn')) {
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('options-section').style.display = 'block';
                document.getElementById('logout-btn').style.display = 'flex';
                document.getElementById('nav-p-img').style.display = 'block';
                document.getElementById('ai-count').innerText = localStorage.getItem('aiUsage') || 0;
                document.getElementById('user-display-name').innerText = localStorage.getItem('userName') || 'User';
                if(localStorage.getItem('userPic')) {
                    document.getElementById('profile-display').src = localStorage.getItem('userPic');
                    document.getElementById('nav-p-img').src = localStorage.getItem('userPic');
                }
            }
        });
    </script>
</body>
</html>
